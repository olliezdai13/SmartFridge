Database Plan

Recommend Postgres: mature, free, great JSON + relational support, works locally and in cloud managed services, integrates with ORMs, handles transactions and constraints you’ll need for snapshots/catalog dedupe.
Schema outline:
users: id (UUID), email, name, created_at, optional auth metadata.
products: normalized catalog rows with id, slug/name, category, unit, optional metadata like upc, aliases (JSONB) to map messy LLM strings.
fridge_snapshots: id, user_id FK → users, captured_at, source (LLM/photo/etc), raw response JSONB for audit.
snapshot_items: snapshot_id FK → fridge_snapshots, product_id FK → products, quantity (numeric + unit if needed), confidence, optional notes; one row per normalized item.
Optionally product_aliases table if you prefer relational alias mapping instead of JSON.
Local vs cloud:
Use Docker Compose service for Postgres (official image, volume for data). Provide docker-compose.yml snippet and .env with shared DATABASE_URL.
For cloud, target compatible managed Postgres (e.g., RDS, Cloud SQL, or Supabase). Keep migrations via Alembic/Django migrations so schema is portable.
Use environment variables for credentials; local .env for dev and secrets manager in cloud. Scripts: docker compose up db, alembic upgrade head, etc.